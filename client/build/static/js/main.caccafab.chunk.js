(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},164:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(23),r=a.n(c),o=a(196),i=a(199),m=a(200),u=a(180),s=a(181),v=a(182),p=a(183),d=function(e){return l.a.createElement("div",null,l.a.createElement(u.a,{color:"light",light:!0,expand:"md"},l.a.createElement(s.a,{className:"mr-auto",navbar:!0},l.a.createElement(v.a,null,l.a.createElement(p.a,{name:"events",onClick:e.handleClick},"Home")),l.a.createElement(v.a,null,l.a.createElement(p.a,{name:"locations",onClick:e.handleClick},"Location")),l.a.createElement(v.a,{className:"signOut"},l.a.createElement(p.a,{href:""},"Log Out")))))},E=a(18),h=a(6),f=a(197),g=a(8),_=a.n(g),b=a(184),y=a(185),O=a(186),w=a(187),C=a(188),j=a(189),k=a(79),N=a(87),D=a(57),S="SET_RELOAD",T="UPDATE_EVENT_ACTIVE",I="UDPATE_HOME_ACTIVE",A="SET_NEW_EVENT",P="SET_UPCOMING_EVENT",x="SET_ALL_EVENTS",L="UPDATE_EVENT",U=a(53),B=a.n(U);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=Object(n.createContext)(),F=V.Provider,R=function(e,t){switch(t.type){case"LOGIN_USER":return M({},e,{username:t.username,userid:t.userid});case"LOGOUT_USER":return M({},e,{username:""});case S:return M({},e,{reload:!e.reload});case"SET_LOCATION":return M({},e,{locations:t.locations});case T:return M({},e,{eventActive:t.eventActive});case I:return M({},e,{homeActive:t.homeActive});case A:return M({},e,{newEvent:t.newEvent});case P:return M({},e,{upcomingEvent:t.event});case x:return M({},e,{allEvents:t.allEvents});case L:return M({},e,{newEvent:M({},e.newEvent,Object(E.a)({},t.column,t.update))});case"COMPLETE_EVENT":return M({},e,{newEvent:{},allEvents:[].concat(Object(D.a)(e.allEvents),[t.completedEvent])});case"REMOVE_EVENT":return M({},e,{allEvents:e.allEvents.filter((function(e){return t.id!==e.id}))});case"ADD_LOCATION":return M({},e,{locations:[].concat(Object(D.a)(e.locations),[t.newLocation])});case"ADD_LIKE":return console.log("addinglike"),M({},e,{likes:e.locations.map((function(e){return e.id===t.id&&(e.likes+=1),e}))});case"ADD_DISLIKE":return console.log("addingdislike"),M({},e,{dislikes:e.locations.map((function(e){return e.id===t.id&&(e.dislikes+=1),e}))});default:return e}},Y=function(e){e.value;var t=Object(N.a)(e,["value"]),a=Object(n.useReducer)(R,{username:"",userid:0,reload:!1,authenticated:!1,autocomplete:"",newEvent:{},allEvents:[],upcomingCall:{},upcomingText:{},locations:[{id:0,locationName:"",locationAddress:"",locationCity:"",locationState:"",locationZip:"",angelShot:"",likes:0,dislikes:0}],formatTime:function(e){var t=e.split(":")[0];"0"===t.charAt(0)&&(t=t.substring(1));var a=e.split(":")[1];return t>12?"".concat(t-12,":").concat(a," PM"):"".concat(t,":").concat(a," AM")},handleInputChange:function(e){var t=e.target.name,a=e.target.value;o("call_type"===t?{type:L,column:t,update:e.target.innerText}:{type:L,column:t,update:a})},handleDateChange:function(e){var t=B.a.utc(e).local().format();console.log("EVENT DATE",t),o({type:L,column:"event_date",update:t})},handleTimeChange:function(e){o({type:L,column:"event_time",update:e})},handleCallTime:function(e){o({type:L,column:"call_time",update:e})}}),c=Object(h.a)(a,2),r=c[0],o=c[1];return l.a.createElement(F,Object.assign({value:[r,o]},t))},z=function(){return Object(n.useContext)(V)};a(115);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var G=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(h.a)(r,2),i=o[0],m=o[1],u=z(),s=Object(h.a)(u,2),v=(s[0],s[1]);Object(n.useEffect)((function(){console.log("redirectState")}),[i]);var p=function(e){var t=e.target.name,n=e.target.value;c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,Object(E.a)({},t,n)))};return l.a.createElement("div",null,function(){if(i)return l.a.createElement(f.a,{to:"/home"})}(),l.a.createElement("div",{className:"bcg1"},l.a.createElement(b.a,{className:"login"},l.a.createElement("row",null,l.a.createElement(y.a,{sm:"12",md:{size:6,offset:3}},l.a.createElement(O.a,{className:"form",onSubmit:function(e){e.preventDefault(),_.a.post("/api/login",a).then((function(e){console.log(e),v({type:"LOGIN_USER",username:e.data.username,userid:e.data.id}),m(!0)})).catch((function(e){console.log(e)}))}},l.a.createElement(y.a,null,l.a.createElement("h2",null,"Log In"),l.a.createElement(w.a,null,l.a.createElement(C.a,null,"Username"),l.a.createElement(j.a,{type:"username",name:"username",id:"user",onChange:p}))),l.a.createElement(y.a,null,l.a.createElement(w.a,null,l.a.createElement(C.a,{for:"examplePassword"},"Password"),l.a.createElement(j.a,{type:"password",name:"password",id:"examplePassword",onChange:p}))),l.a.createElement(k.a,{className:"btn1",color:"success"},"Submit")))))))};a(117);var H=function(e){return l.a.createElement("ul",{className:"nav nav-tabs"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link active",name:"upcoming",onClick:e.handleClick},"Upcoming Date")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link",name:"create",onClick:e.handleClick},"Create-a-Date")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link",name:"all",onClick:e.handleClick},"View All Dates")))},Q=a(19),K=a.n(Q),W=a(33),Z=a(42),X=a.n(Z);a(119);function $(e){var t=z(),a=Object(h.a)(t,2),c=(a[0],a[1],Object(n.useState)("")),r=Object(h.a)(c,2),o=r[0],i=r[1],m=Object(n.useRef)(null);return l.a.createElement("div",null,document.queryCommandSupported("copy")&&l.a.createElement("div",null,l.a.createElement("button",{onClick:function(e){m.current.select(),document.execCommand("copy"),e.target.focus(),i("Copied!")}},"Copy"),o),l.a.createElement("form",null,l.a.createElement("textarea",{className:"form-control",ref:m,value:"localhost:3000/events/".concat(e.shortid)})))}var ee=a(36),te=a.n(ee),ae=a(30),ne=a.n(ae),le=a(80),ce=a.n(le);a(164);var re=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],n=t[1],c=function(){var e=a.autocomplete.getPlace(),t=e.formatted_address;t&&n({type:L,column:"event_location",update:"".concat(e.name,", ").concat(t)})};return l.a.createElement("div",{className:"search-container"},l.a.createElement(ce.a,{url:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDSkiIzO5_RJsjJdvV0JOweepO1SUt5yQ4","&libraries=places"),onLoad:function(){a.autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete")),a.autocomplete.setFields(["formatted_address","name"]),a.autocomplete.addListener("place_changed",c)}}),l.a.createElement("input",{className:"form-control",id:"autocomplete",name:"event_location",onChange:a.handleInputChange}),l.a.createElement("iframe",{className:"map-container",width:"300",height:"300",frameBorder:"0",src:a.newEvent?"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyDSkiIzO5_RJsjJdvV0JOweepO1SUt5yQ4","&q=").concat(a.newEvent.event_location):"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyDSkiIzO5_RJsjJdvV0JOweepO1SUt5yQ4","&q=Los+Angeles"),allowFullScreen:!0}))},oe=a(198),ie=a(190),me=a(191),ue=a(193),se=a(201),ve=a(202),pe=a(203),de=a(192);var Ee=function(e){var t=z(),a=Object(h.a)(t,1)[0],c=Object(n.useState)(),r=Object(h.a)(c,2),o=r[0],i=r[1];return l.a.createElement(oe.a,{isOpen:e.show},l.a.createElement(ie.a,{closeButton:!0},l.a.createElement("h3",null,"Update-a-Date")),l.a.createElement(me.a,null,l.a.createElement("input",{type:"text",name:"event_name",value:a.newEvent.event_name,required:!0,onChange:a.handleInputChange}),l.a.createElement("br",null),l.a.createElement(te.a,{value:new Date("".concat(a.newEvent.event_date)),onChange:a.handleDateChange,minDate:new Date}),l.a.createElement("br",null),l.a.createElement(ne.a,{value:a.newEvent.event_time,onChange:a.handleTimeChange,disableClock:!0}),l.a.createElement("br",null),l.a.createElement("textarea",{name:"event_note",value:a.newEvent.event_note,onChange:a.handleInputChange}),l.a.createElement("br",null),l.a.createElement(ne.a,{value:a.newEvent.call_time,onChange:a.handleCallTime,disableClock:!0}),l.a.createElement("br",null),l.a.createElement(se.a,{isOpen:o,toggle:function(){i(!o)}},l.a.createElement(ve.a,{caret:!0},a.newEvent.call_type&&""!==a.newEvent.call_type?a.newEvent.call_type:"Call Type"),l.a.createElement(pe.a,null,l.a.createElement(de.a,{name:"call_type",onClick:a.handleInputChange},"Best Friend Breakup"),l.a.createElement(de.a,{divider:!0}),l.a.createElement(de.a,{name:"call_type",onClick:a.handleInputChange},"Family Emergency"))),l.a.createElement("br",null),l.a.createElement(re,{handleInputChange:a.handleInputChange}),l.a.createElement("br",null),l.a.createElement("input",{type:"file",id:"event_image"}),l.a.createElement("br",null)),l.a.createElement(ue.a,null,l.a.createElement(k.a,{variant:"secondary",name:"update",onClick:e.handleClose},"Cancel"),l.a.createElement(k.a,{variant:"primary",name:"update",onClick:e.handleUpdate},"Update")))};var he=function(e){var t=z(),a=Object(h.a)(t,2);return a[0],a[1],l.a.createElement(oe.a,{isOpen:e.show},l.a.createElement(ie.a,{closeButton:!0},l.a.createElement("h3",null,"Cancel Date")),l.a.createElement(me.a,null,l.a.createElement("p",null,'Ready to cancel your date? If so, click the "Cancel Date" button below and friends will no longer be able to access the link you gave them.')),l.a.createElement(ue.a,null,l.a.createElement(k.a,{variant:"secondary",name:"cancel",onClick:e.handleClose},"Go Back"),l.a.createElement(k.a,{variant:"primary",name:"cancel",onClick:e.handleCancel},"Cancel Date")))},fe=a(194),ge=a(195),_e={getEvents:function(e){return _.a.get("/api/users/".concat(e,"/events"))},getEvent:function(e,t){return _.a.get("/api/users/".concat(e,"/events/").concat(t))},getEventByShortId:function(e){return _.a.get("/events/".concat(e))},saveEvent:function(e){return _.a.post("/api/events",e)},saveImage:function(e,t){return _.a.post("/api/events/".concat(e,"/images/upload"),t,{headers:{"Content-Type":"multipart/form-data"}})},saveCall:function(e,t){return _.a.post("/api/dates/".concat(e,"/calls"),t)},updateCall:function(e,t,a){return _.a.put("/api/dates/".concat(e,"/call/").concat(t),a)},updateEvent:function(e,t){return _.a.put("/api/events/".concat(e),t)},cancelEvent:function(e){return _.a.put("/api/events/cancel/".concat(e))},deleteEvent:function(e){return _.a.delete("/api/events/".concat(e))}};a(174);var be=function(e){var t=z(),a=Object(h.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),i=Object(h.a)(o,2),m=i[0],u=i[1],s=Object(n.useState)(!1),v=Object(h.a)(s,2),p=v[0],d=v[1],E=function(t){"update"===t.target.name?(r({type:A,newEvent:{event_name:e.event_name,event_date:e.event_date,event_time:e.event_time,event_location:e.event_location,event_note:e.event_note,call_time:e.call_time,call_type:e.call_type}}),u(!0)):d(!0)},f=function(e){"update"===e.target.name?u(!1):d(!1)},g=function(){var t=Object(W.a)(K.a.mark((function t(a){var n,l,o,i,m;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),n=c.newEvent,l=document.getElementById("event_image").files[0],t.next=6,_e.updateEvent(e.id,n);case 6:o=t.sent,(c.newEvent.call_time||c.newEvent.call_type)&&(e.call_time?_e.updateCall(e.id,e.callid,{call_time:c.newEvent.call_time,call_type:c.newEvent.call_type}):_e.saveCall(e.id,{call_time:c.newEvent.call_time,call_type:c.newEvent.call_type})),l&&o.data&&((i=new FormData).append("image",l),m=_e.saveImage(e.id,i),_e.updateEvent(e.id,{event_date_picture:m.data})),r({type:S}),u(!1),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),console.log("update unsuccessful");case 19:case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,e.event_name?l.a.createElement(fe.a,null,l.a.createElement(ge.a,null,e.active?l.a.createElement(l.a.Fragment,null):l.a.createElement("h4",{className:"canceled"},"CANCELED"),l.a.createElement("h4",{className:"font-weight-bold"},e.event_name),l.a.createElement("p",null,l.a.createElement(X.a,{date:e.event_date,format:"MMMM Do YYYY"})),l.a.createElement("p",null,c.formatTime(e.event_time)),l.a.createElement("p",null,e.event_location),l.a.createElement("iframe",{width:"300",height:"100",frameBorder:"0",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyDSkiIzO5_RJsjJdvV0JOweepO1SUt5yQ4","&q=").concat(e.event_location),allowFullScreen:!0}),l.a.createElement("p",null,l.a.createElement("span",{className:"font-weight-bold"},"Notes: "),e.event_note),e.call_time?l.a.createElement("div",{className:"call-container"},l.a.createElement("p",{className:"font-weight-bold"},"Scheduled Call"),l.a.createElement("p",null,"Call time: ",c.formatTime(e.call_time)),l.a.createElement("p",null,"Call type: ",e.call_type)):l.a.createElement("p",null,"You don't have a call scheduled."),l.a.createElement("p",null,l.a.createElement("img",{width:"100px",src:e.event_date_picture})),Date.parse("".concat(e.event_date,"T").concat(e.event_time))+108e5>new Date&&e.active?l.a.createElement("div",null,l.a.createElement($,{shortid:e.shortid}),l.a.createElement("button",{className:"btn btn-primary",name:"update",onClick:E},"Update Date"),l.a.createElement("button",{className:"btn btn-secondary",name:"cancel",onClick:E},"Cancel Date")):l.a.createElement("p",null),l.a.createElement(Ee,{show:m,event_name:e.event_name,event_date:e.event_date,event_time:e.event_time,event_location:e.event_location,event_note:e.event_note,handleClose:f,handleUpdate:g}),l.a.createElement(he,{show:p,handleClose:f,handleCancel:function(t){t.preventDefault(),_e.cancelEvent(e.id).then((function(e){d(!1),r({type:S})})).catch((function(e){console.log(e)}))}}))):l.a.createElement("p",null,"You don't have any events yet."))};var ye=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],c=t[1];return console.log("state",a),Object(n.useEffect)((function(){_e.getEvents(a.userid).then((function(e){var t=e.data.filter((function(e){return e.active&&Date.parse("".concat(e.event_date,"T").concat(e.event_time))+108e5>Date.parse(new Date)}));console.log(t[0]),c({type:P,event:t[0]})}))}),[a.reload]),l.a.createElement("div",null,a.upcomingEvent?l.a.createElement(l.a.Fragment,null,l.a.createElement(be,{id:a.upcomingEvent.id,event_name:a.upcomingEvent.event_name,event_date:a.upcomingEvent.event_date,event_time:a.upcomingEvent.event_time,event_location:a.upcomingEvent.event_location,event_note:a.upcomingEvent.event_note,event_date_picture:a.upcomingEvent.event_date_picture,call_time:a.upcomingEvent.Call?a.upcomingEvent.call_time:null,call_type:a.upcomingEvent.Call?a.upcomingEvent.call_type:null,callid:a.upcomingEvent.Call?a.upcomingEvent.id:null,active:a.upcomingEvent.active,shortid:a.upcomingEvent.shortid})):l.a.createElement("p",null,"You don't have any upcoming events."))},Oe=a(82),we=a.n(Oe);var Ce=function(e){var t=z(),a=Object(h.a)(t,2),n=a[0];return a[1],l.a.createElement("div",null,n.newEvent?l.a.createElement(oe.a,{isOpen:e.show,onHide:e.handleClose},l.a.createElement(ie.a,{closeButton:!0},l.a.createElement("h3",null,"Date Saved")),l.a.createElement(me.a,null,l.a.createElement("p",null,"Your date has been successfully saved!"),l.a.createElement("p",null,"Here is your unique date page link that you can share with friends."),l.a.createElement($,{shortid:n.newEvent.shortid})),l.a.createElement(ue.a,null,l.a.createElement(k.a,{variant:"primary",onClick:e.handleClose},"Got it!"))):l.a.createElement(l.a.Fragment,null))};a(175);var je=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(h.a)(r,2),i=o[0],m=o[1],u=Object(n.useState)(!1),s=Object(h.a)(u,2),v=s[0],p=s[1];Object(n.useEffect)((function(){console.log("state",a)}),[a.active,i]);var d=function(){var e=Object(W.a)(K.a.mark((function e(t){var n,l,r,o,i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("EVENT DATE ON SUBMIT",a.newEvent.event_date),t.preventDefault(),e.next=4,_e.saveEvent({event_name:a.newEvent.event_name,event_date:a.newEvent.event_date.split("T")[0],event_time:a.newEvent.event_time,event_location:a.newEvent.event_location,event_note:a.newEvent.event_note});case 4:if(n=e.sent,c({type:A,newEvent:n.data}),l=document.getElementById("event_image").files[0],r=n.data.id,a.newEvent.call_time&&_e.saveCall(r,{call_time:a.newEvent.call_time,call_type:a.newEvent.call_type}),!l||!n.data){e.next=17;break}return(o=new we.a).append("image",l),e.next=15,_e.saveImage(r,o);case 15:i=e.sent,c({type:L,column:"event_date_picture",update:i.data});case 17:n.data?m(!0):console.log("error in saving event");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"card-body"},l.a.createElement("label",{className:"font-weight-bold"},"Name Your Date"),l.a.createElement("p",null,l.a.createElement("input",{className:"form-control",type:"text",name:"event_name",required:!0,onChange:a.handleInputChange})),l.a.createElement("label",{className:"font-weight-bold"}," Set Date Time"),l.a.createElement("p",null,l.a.createElement(te.a,{className:"mr-8",value:a.newEvent&&a.newEvent.event_date?new Date(a.newEvent.event_date):null,onChange:a.handleDateChange,minDate:new Date}),l.a.createElement(ne.a,{onChange:a.handleTimeChange,disableClock:!0})),l.a.createElement("label",{className:"font-weight-bold"},"Set Date Location"),l.a.createElement("p",null,l.a.createElement(re,null)),l.a.createElement("label",{className:"font-weight-bold"},"Add Notes (optional)"),l.a.createElement("p",null,l.a.createElement("textarea",{className:"form-control",name:"event_note",onChange:a.handleInputChange})),l.a.createElement("div",{className:"call-container"},l.a.createElement("label",{className:"font-weight-bold"},"Schedule a Call (optional)"),l.a.createElement("p",null,l.a.createElement(ne.a,{onChange:a.handleCallTime,disableClock:!0})),l.a.createElement(se.a,{isOpen:v,toggle:function(){p(!v)}},l.a.createElement(ve.a,{caret:!0},a.newEvent&&a.newEvent.call_type?a.newEvent.call_type:"Call Type"),l.a.createElement(pe.a,null,l.a.createElement(de.a,{name:"call_type",onClick:a.handleInputChange},"Best Friend Breakup"),l.a.createElement(de.a,{divider:!0}),l.a.createElement(de.a,{name:"call_type",onClick:a.handleInputChange},"Family Emergency")))),l.a.createElement("label",{className:"font-weight-bold"},"Image Upload (optional)"),l.a.createElement("input",{type:"file",id:"event_image"}),l.a.createElement("p",null,l.a.createElement("button",{className:"btn btn-primary mx-auto",onClick:d,id:"submit-button"},"Submit")),l.a.createElement(Ce,{show:i,handleClose:function(){m(!1),c({type:T,eventActive:"upcoming"})}}))};var ke=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){_e.getEvents(a.userid).then((function(e){console.log(e.data),c({type:x,allEvents:e.data})}))}),[a.reload]),l.a.createElement("div",null,a.allEvents[0]?l.a.createElement("div",null,a.allEvents.map((function(e){return l.a.createElement(be,{key:e.shortid,id:e.id,event_name:e.event_name,event_date:e.event_date,event_time:e.event_time,event_location:e.event_location,event_note:e.event_note,event_date_picture:e.event_date_picture,call_time:e.Call?e.Call.call_time:null,call_type:e.Call?e.Call.call_type:null,callid:e.Call?e.Call.id:null,active:e.active,shortid:e.shortid})}))):l.a.createElement("p",null,"You don't have any events to show."))};var Ne=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],n=t[1],c=function(e){var t=e.target.name;n({type:T,eventActive:t})};return l.a.createElement("div",{className:"events-container"},l.a.createElement(H,{handleClick:c}),l.a.createElement("div",{className:"events-container"},"upcoming"===a.eventActive?l.a.createElement(ye,null):"create"===a.eventActive?l.a.createElement(je,{handleClick:c}):"all"===a.eventActive?l.a.createElement(ke,null):l.a.createElement(ye,null)))},De={getLocation:function(e){return _.a.get("/api/locations/".concat(e))},getAllLocations:function(){return _.a.get("/api/locations/all").then((function(e){return e}))},getFilterLocation:function(e,t){return _.a.get("/api/locations/id/".concat(e,"?").concat(t,"="))},saveLocation:function(e){return _.a.post("/api/locations",e)},updateLike:function(e){return console.log(e),_.a.put("/api/locations/addlike/".concat(e.id),{likes:e.likes?e.likes:0})},updateDisLike:function(e){return console.log(e),_.a.put("/api/locations/adddislike/".concat(e.id),{dislikes:e.dislikes?e.dislikes:0})}};var Se=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(h.a)(r,2),i=o[0];return o[1],Object(n.useEffect)((function(){De.getAllLocations().then((function(e){c({type:"SET_LOCATION",locations:e.data}),console.log(e.data)}))}),[i]),l.a.createElement("div",null,a.locations?a.locations.map((function(e,t){})):"")};var Te=function(){var e=z(),t=Object(h.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){_e.getEvents(a.userid).then((function(e){c({type:A,newEvent:e.data[0]})}))}),[a.reload]),l.a.createElement(l.a.Fragment,null,l.a.createElement(d,{handleClick:function(e){var t=e.target.name;c({type:I,homeActive:t})}}),"events"===a.homeActive?l.a.createElement(Ne,null):"locations"===a.homeActive?l.a.createElement(Se,null):l.a.createElement(Ne,null))},Ie=a(83),Ae=a(84),Pe=a(86),xe=a(85),Le=a(88),Ue=(a(176),function(e){function t(){var e,a;Object(Ie.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(Pe.a)(this,(e=Object(xe.a)(t)).call.apply(e,[this].concat(l)))).state={event_name:"",event_date:"",event_time:"",event_location:"",event_note:"",event_date_picture:""},a.formatTime=function(e){var t=e.split(":")[0];"0"===t.charAt(0)&&(t=t.substring(1));var a=e.split(":")[1];return t>12?"".concat(t-12,":").concat(a," PM"):"".concat(t,":").concat(a," AM")},a}return Object(Le.a)(t,e),Object(Ae.a)(t,[{key:"componentDidMount",value:function(){var e=Object(W.a)(K.a.mark((function e(){var t,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.shortid,e.next=3,_e.getEventByShortId(t);case 3:a=e.sent,console.log(a.data),this.setState({event_name:a.data.event_name,event_date:a.data.event_date,event_time:a.data.event_time,event_location:a.data.event_location,event_note:a.data.event_note,event_date_picture:a.data.event_date_picture});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.event_name?l.a.createElement("div",null,l.a.createElement("h4",{className:"font-weight-bold title p-3"},"Your Friend's DateRescue Page"),l.a.createElement("div",{className:"p-3"},l.a.createElement("p",null,l.a.createElement("span",{className:"font-weight-bold"},"Date:")," ",l.a.createElement(X.a,{date:this.state.event_date,format:"MMMM Do YYYY"})),l.a.createElement("p",null,l.a.createElement("span",{className:"font-weight-bold"},"Time:")," ",this.formatTime(this.state.event_time)),l.a.createElement("p",null,l.a.createElement("span",{className:"font-weight-bold"},"Location:")," ",this.state.event_location),l.a.createElement("iframe",{width:"300",height:"200",frameBorder:"0",src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyDSkiIzO5_RJsjJdvV0JOweepO1SUt5yQ4","&q=").concat(this.state.event_location),allowFullScreen:!0}),l.a.createElement("p",null,l.a.createElement("span",{className:"font-weight-bold"},"Note:")," ",this.state.event_note),l.a.createElement("p",null,l.a.createElement("img",{width:"100",src:this.state.event_date_picture})))):l.a.createElement("div",null,l.a.createElement("h4",null,"Sorry, this event address is either invalid or has expired."),l.a.createElement("p",null,"If you think there's been some sort of mistake, ask your friend to resend their unique event address, or if this is your event, login to Date Rescue and double-check the address is correct."))}}]),t}(l.a.Component));a(177);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Je=function(){var e=Object(n.useState)({}),t=Object(h.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(h.a)(r,2),i=o[0],m=o[1];Object(n.useEffect)((function(){console.log("signup")}),[i]);var u=function(e){var t=e.target.name.trim(),n=e.target.value.trim();c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,Object(E.a)({},t,n)))};return l.a.createElement("div",null,function(){if(i)return l.a.createElement(f.a,{to:"/login"})}(),l.a.createElement("body",{className:"bcg"},l.a.createElement(b.a,{className:"signUp"},l.a.createElement("row",null,l.a.createElement(y.a,{sm:"12",md:{size:6,offset:3}},l.a.createElement(O.a,{className:"form",onSubmit:function(e){e.preventDefault();var t=a;a.email&&a.username&&a.password&&a.phoneNumber&&_.a.post("/api/signup",t).then((function(){console.log("signup successful!"),m(!0)})).catch((function(e){console.log(e)}))}},l.a.createElement(y.a,null,l.a.createElement("h2",null,"Sign Up")),l.a.createElement(y.a,null,l.a.createElement(w.a,null,l.a.createElement(C.a,null,"E-mail"),l.a.createElement(j.a,{type:"email",name:"email",id:"email",onChange:u})),l.a.createElement(w.a,null,l.a.createElement(C.a,null,"Username"),l.a.createElement(j.a,{type:"text",name:"username",id:"username",onChange:u})),l.a.createElement(w.a,null,l.a.createElement(C.a,null,"Password"),l.a.createElement(j.a,{type:"password",name:"password",id:"examplePassword",onChange:u})),l.a.createElement(w.a,null,l.a.createElement(C.a,null,"Phone Number"),l.a.createElement(j.a,{type:"tel",name:"phoneNumber",id:"phoneNumber",onChange:u}))),l.a.createElement("h6",null,"Already a member ",l.a.createElement("a",{href:"/"},l.a.createElement("i",{className:"click",color:"light"},"Click Here"))),l.a.createElement(k.a,{type:"submit",className:"btn",color:"success"},"Join Today")))))))};var Me=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(Y,null,l.a.createElement(i.a,null,l.a.createElement(m.a,{exact:!0,path:"/",component:G}),l.a.createElement(m.a,{exact:!0,path:"/signup",component:Je}),l.a.createElement(m.a,{exact:!0,path:"/events/:shortid",component:Ue}),l.a.createElement(m.a,{exact:!0,path:"/home",component:Te}),l.a.createElement(m.a,{exact:!0,path:"/event/upcoming",component:ye}),l.a.createElement(m.a,{exact:!0,path:"/events",component:ke}),l.a.createElement(m.a,{exact:!0,path:"/location",component:Se}),l.a.createElement(m.a,{component:G})))))};r.a.render(l.a.createElement(Me,null),document.getElementById("root"))},89:function(e,t,a){e.exports=a(178)}},[[89,1,2]]]);
//# sourceMappingURL=main.caccafab.chunk.js.map